board=[' ']*9
def print_board():
    for i in range(0,9,3):
        print(board[i],'|',board[i+1],'|',board[i+2])
def check(b):
    lines=[(0,1,2),(3,4,5),(6,7,8),(0,3,6),(1,4,7),(2,5,8),(0,4,8),(2,4,6)]
    for a,b,c in lines:
        if b[a]==b[b]==b[c] and b[a]!=' ':
            return b[a]
    if ' ' not in b:
        return 'Draw'
    return None
def minimax(b,player):
    result=check(b)
    if result=='X': return 1
    if result=='O': return -1
    if result=='Draw': return 0
    if player=='X':
        best=-float('inf')
        for i in range(9):
            if b[i]==' ':
                b[i]='X'
                val=minimax(b,'O')
                b[i]=' '
                best=max(best,val)
        return best
    else:
        best=float('inf')
        for i in range(9):
            if b[i]==' ':
                b[i]='O'
                val=minimax(b,'X')
                b[i]=' '
                best=min(best,val)
        return best
def best_move():
    best_val=-float('inf')
    move=-1
    for i in range(9):
        if board[i]==' ':
            board[i]='X'
            val=minimax(board,'O')
            board[i]=' '
            if val>best_val:
                best_val=val
                move=i
    return move
def play():
    turn='X'
    while True:
        print_board()
        if turn=='X':
            m=best_move()
            board[m]='X'
        else:
            m=int(input("O's move (0-8): "))
            if board[m]!=' ': continue
            board[m]='O'
        result=check(board)
        if result:
            print_board()
            print("Winner:",result)
            break
        turn='O' if turn=='X' else 'X'
play()


OUTPUT
  |   |  
  |   |  
  |   |  
O's move (0-8): 0
O |   |  
  |   |  
  |   |  
X |   |  
  |   |  
  |   |  
O's move (0-8): 4
X |   |  
  | O |  
  |   |  
X |   |  
  |   |  
  |   |  
Winner: X
